<html>
    <head>
        <title>pyarmid</title>
        <script src="processing.js"></script>
    </head>
    <body>
        <canvas id="canvas"/>
<script>
var x, y, z;
var rotX, rotY;
var canvas = document.getElementById("canvas");
var rgbs;

var vert = function(x, y, z){
    this.x = x; this.base_x = x;
    this.y = y; this.base_y = y;
    this.z = z; this.base_z = z;
    
    this.r = Math.random(); 
    this.g = Math.random();
    this.b = Math.random();
}
vert.prototype.update = function(){
    this.x += Math.random() - 0.5;
    this.y += Math.random() - 0.5;
    this.z += Math.random() - 0.5;
}

// attaching the processing function to the canvas
var processingInstance = new Processing(canvas, function(p){
    p.setup = function(){
        p.size(200,200,p.P3D);
        x = p.width/2;
        y = p.height/2;
        z = 0;
        rotX = 0;
        rotY = 0;
        p.colorMode(p.RGB, 1);
        
        var s = 30;
        verts = [
            [new vert(-s, -s, -s),
             new vert(s, -s, -s),
             new vert(0, 0, s)],
            [new vert(s, -s, -s),
             new vert(s, s, -s),
             new vert(0, 0, s)],
            [new vert(s, s, -s),
             new vert(-s, s, -s),
             new vert(0, 0, s)],
            [new vert(-s, s, -s),
             new vert(-s, -s, -s),
             new vert(0, 0, s)]
        ];
    }
    
    p.draw = function(){
        p.background(0, 0, 0);
        
        p.translate(x,y,z);
        rotX += 0.02;
        rotY += 0.01;
        p.rotateX(rotX);
        p.rotateY(rotY);
        
        p.noFill();
        p.beginShape();
        
        for (var i = 0; i < verts.length; i++){
            for (var j = 0; j < verts[i].length; j++){
                var v = verts[i][j];
                v.update();
                p.stroke(v.r, v.g, v.b);
                p.vertex(v.x, v.y, v.z);
            }
        }
        
        p.endShape();
        
    }
});
    
</script>
    </body>
</html>